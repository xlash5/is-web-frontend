(this["webpackJsonpreact-router-v6-auth-demo"]=this["webpackJsonpreact-router-v6-auth-demo"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(78),a=n(27),i=n(88),o=n(171),l=n(70),s=n(79),j=n(12),b=n(14),u=n(1),d=Object(r.createContext)(),x=function(e){var t=e.children,n=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):(window.localStorage.setItem(e,JSON.stringify(t)),t)}catch(r){return t}})),c=Object(j.a)(n,2),a=c[0],i=c[1];return[a,function(t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}i(t)}]}("user",null),c=Object(j.a)(n,2),a=c[0],i=c[1],o=Object(b.g)(),x=function(){var e=Object(s.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t),o("/dashboard/profile",{replace:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){i(null),o("/",{replace:!0})},O=Object(r.useMemo)((function(){return{user:a,login:x,logout:h}}),[a]);return Object(u.jsx)(d.Provider,{value:O,children:t})},h=function(){return Object(r.useContext)(d)},O=n(172),p=n(173),m=n(167),f=n(178),g=n(174),v=n(176),w=n(81),y=n.n(w),S=n(177),k=n(175),C=function(){var e=h().login;return Object(u.jsx)(k.a,{component:"main",maxWidth:"xs",children:Object(u.jsxs)(v.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)(O.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(u.jsx)(y.a,{})}),Object(u.jsx)(S.a,{component:"h1",variant:"h5",children:"Log In"}),Object(u.jsxs)(v.a,{component:"form",onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);e({email:n.get("email"),password:n.get("password")})},noValidate:!0,sx:{mt:1},children:[Object(u.jsx)(m.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(u.jsx)(m.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(u.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Login In"}),Object(u.jsx)(g.a,{container:!0,children:Object(u.jsx)(g.a,{item:!0,children:Object(u.jsx)(a.b,{to:"/register",children:Object(u.jsx)(f.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})})})]})]})})},I=function(e){var t=e.title,n=e.icon;return Object(u.jsx)(k.a,{component:"main",maxWidth:"xs",children:Object(u.jsxs)(v.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)(O.a,{sx:{m:1,bgcolor:"primary.main"},children:n}),Object(u.jsx)(S.a,{component:"h1",variant:"h5",children:t})]})})},W=n(83),P=n.n(W),A=function(){return Object(u.jsx)(I,{title:"Home Page",icon:Object(u.jsx)(P.a,{})})},D=n(84),J=n.n(D),R=function(){return Object(u.jsx)(I,{title:"Profile Page",icon:Object(u.jsx)(J.a,{})})},G=n(85),L=n.n(G),T=function(){return Object(u.jsx)(I,{title:"Settings Page",icon:Object(u.jsx)(L.a,{})})},z=n(179),E=n(180),M=n(181),N=n(87),q=n(86),B=n.n(q),F=n(169),H=function(e){var t=e.pages,n=r.useState(null),c=Object(j.a)(n,2),a=c[0],i=c[1],o=Object(b.g)(),l=h(),s=l.user,d=l.logout,x=function(e){i(null),e&&o(e)};return Object(u.jsx)(z.a,{position:"static",children:Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsxs)(E.a,{disableGutters:!0,children:[Object(u.jsx)(S.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"React Router Auth"}),Object(u.jsxs)(v.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(u.jsx)(M.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(u.jsx)(B.a,{})}),Object(u.jsxs)(N.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(a),onClose:x,sx:{display:{xs:"block",md:"none"}},children:[null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(F.a,{onClick:function(){return x(e.path)},children:Object(u.jsx)(S.a,{textAlign:"center",children:e.label})},e.label)})),!!s&&Object(u.jsx)(F.a,{onClick:d,children:Object(u.jsx)(S.a,{textAlign:"center",children:"Logout"})},"logout")]})]}),Object(u.jsx)(S.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"React Router Auth"}),Object(u.jsxs)(v.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(p.a,{onClick:function(){return x(e.path)},sx:{my:2,color:"white",display:"block"},children:e.label},e.label)})),!!s&&Object(u.jsx)(p.a,{onClick:d,sx:{my:2,color:"white",display:"block"},children:"logout"},"logout")]})]})})})},U=function(){var e=h().user,t=Object(b.h)();return e?Object(u.jsxs)("div",{children:[Object(u.jsx)(H,{pages:[{label:"Settings",path:"settings"},{label:"Profile",path:"profile"}]}),t]}):Object(u.jsx)(b.a,{to:"/"})},V=function(){var e=h().user,t=Object(b.h)();return e?Object(u.jsx)(b.a,{to:"/dashboard/profile",replace:!0}):Object(u.jsxs)("div",{children:[Object(u.jsx)(H,{pages:[{label:"Home",path:"/"},{label:"Login",path:"/login"}]}),t]})};n(114);function K(){return Object(u.jsxs)(b.d,{children:[Object(u.jsxs)(b.b,{element:Object(u.jsx)(V,{}),children:[Object(u.jsx)(b.b,{path:"/",element:Object(u.jsx)(A,{})}),Object(u.jsx)(b.b,{path:"/login",element:Object(u.jsx)(C,{})})]}),Object(u.jsxs)(b.b,{path:"/dashboard",element:Object(u.jsx)(U,{}),children:[Object(u.jsx)(b.b,{path:"profile",element:Object(u.jsx)(R,{})}),Object(u.jsx)(b.b,{path:"settings",element:Object(u.jsx)(T,{})})]})]})}var Q=document.getElementById("root"),X=Object(c.createRoot)(Q),Y=Object(i.a)({palette:{primary:{main:"#3a34d2"}}});X.render(Object(u.jsx)(r.StrictMode,{children:Object(u.jsx)(a.a,{children:Object(u.jsx)(x,{children:Object(u.jsx)(o.a,{theme:Y,children:Object(u.jsx)(K,{})})})})}))}},[[115,1,2]]]);
//# sourceMappingURL=main.7455fb87.chunk.js.map